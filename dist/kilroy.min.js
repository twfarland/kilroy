/*! kilroy 24-06-2015 */
(function(){"use strict";function a(a,b){for(var c in a)b(a[c],c)}function b(a){return a instanceof Array&&a[0]instanceof Array}function c(a){return a instanceof Array&&"string"==typeof a[0]}function d(a){return a instanceof Array||"string"==typeof a?a.length>0:!(0!==a&&!a)}function e(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0}function f(a,b,c){var d=a.childNodes[b];d?a.insertBefore(c,d):a.appendChild(c)}function g(a,b){var c="[object Object]"===B.call(a[1])&&"[object Object]"===B.call(b[1])&&a[1].id&&b[1].id;return a[0]===b[0]&&(!c||c&&a[1].id===b[1].id)}function h(a){return c(a)?(i(a),j(a),a):a}function i(a){var b=a[0].split(/\s+/);if(b.length>1||"#"===b[0].charAt(0)||"."===b[0].charAt(0)){var c,d,e,f="div";for("[object Object]"===B.call(a[1])?c=a[1]:(c={},a.splice(1,0,c)),d=0;d<b.length;d++)e=b[d],"#"===e.charAt(0)?c.id=e.slice(1):"."===e.charAt(0)?c["class"]=c["class"]?c["class"]+" "+e.slice(1):e.slice(1):f=e;a[0]=f}return a}function j(a){for(var b=a.splice("[object Object]"===B.call(a[1])?2:1,1/0),c=0;c<b.length;c++)k(a,b[c]);return a}function k(a,e){if(b(e))for(var f=0;f<e.length;f++)k(a,e[f]);else c(e)&&h(e),d(e)&&a.push(e)}function l(a){if(c(a)){var b,e,f,g,h=a[0],i=a[1],j=[];if("[object Object]"===B.call(i)){for(b in i)d(i[b])&&"_"!==b[0]&&j.push(b+'="'+i[b]+'"');e=a.slice(2)}else e=a.slice(1);if(g="<"+[h].concat(j).join(" ")+">",!E[h]){for(f=0;f<e.length;f++)g+=l(e[f]);g+="</"+h+">"}return g}return"string"==typeof a?a:a!==!1&&null!==a&&"undefined"!=typeof a&&a.toString?a.toString():""}function m(a){var b=document.createElement("div");return b.innerHTML=a,b.firstChild}function n(a){return m(l(a))}function o(a,b,c){if(a){var d,e,f=C.call(a.childNodes),g={},h={};"[object Object]"===B.call(c[1])?(h=c[1],e=c.slice(2)):e=c.slice(1),h._noUpdate||("[object Object]"===B.call(b[1])?(g=b[1],d=b.slice(2)):d=b.slice(1),p(a,g,h),(e[0]&&e[0][1]&&e[0][1]._key?r:q)(a,f,d,e))}}function p(a,b,c){var e,f;for(e in b)d(c[e])||("value"===e?a.value="":"checked"===e?a.checked=!1:"selected"===e?a.selected=!1:"_"!==e.charAt(0)?a.removeAttribute(e):"_focus"===e&&a.blur());for(f in c)"value"===f&&a!==document.activeElement?a.value=c[f]:"checked"===f?a.checked=!!c[f]:"selected"===f?a.selected=!!c[f]:"_"!==f.charAt(0)?a.setAttribute(f,c[f]):"_focus"===f&&a.focus()}function q(a,b,e,f){var h,i,j,k,l,m,p;for(p=0;p<Math.max(e.length,f.length);p++)h=b[p],i=e[p],j=f[p],k="undefined"!=typeof h,l=d(i),m=d(j),k||l||!m?k&&l&&!m?a.removeChild(h):k&&l&&m&&(c(i)&&c(j)?g(i,j)?o(h,i,j):a.replaceChild(n(j),h):i!==j&&a.replaceChild(n(j),h)):a.appendChild(n(j))}function r(a,b,c,e){var g,h,i,j,k,l={},m={};for(j=0;j<Math.max(c.length,e.length);j++)g=b[j],h=c[j],i=e[j],d(h)&&(l[h[1]._key]=g),d(i)&&(m[i[1]._key]=i);for(k in l)void 0===m[k]&&a.removeChild(l[k]);for(j=0;j<e.length;j++)i=e[j],void 0===l[i[1]._key]&&f(a,j,n(i))}function s(a,b,c){if(a.node){var d=h(a.view.call(b));o(a.node,a.virtual,d),a.virtual=d}else a.virtual=h(a.view.call(b)),a.node=n(a.virtual);c&&c.call(b)}function t(a,b){function c(){!a.rendering&&a.isDirty&&(a.rendering=!0,s(a,b,b._cback),delete a.rendering,delete a.isDirty,delete b._cback),window.requestAnimationFrame(c)}a.animating=!0,c()}function u(a,b,c){a.animating?(a.isDirty=!0,b._cback=c):s(a,b,c)}function v(a,b){var c={view:a,virtual:null,node:null,animating:!1,rendering:!1,isDirty:!0};return window.requestAnimationFrame&&!b.noAnimate?t(c,b):s(c,b),c}function w(b,c){a(c.events,function(a,d){y(b.node,d,function(b){b=b||window.event,b.preventDefault||(b.preventDefault=function(){b.returnValue=!1});var d,f,g=b.target||b.srcElement;for(d in a)("#"===d.charAt(0)&&g.getAttribute("id")===d.slice(1)||"."===d.charAt(0)&&e(g.className.split(/ +/),d.slice(1))||d===g.tagName.toLowerCase())&&(f=a[d],"string"==typeof f&&(f=c[f]),f.call(c,{evt:b,el:g}))})})}function x(a){if(!a.view)throw new Error("A 'view' property is required");return function(b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);c.init&&c.init(b);var e=v(c.view,c);return c.node=e.node,c.d=function(a){u(e,c,a)},c.events&&w(e,c),c}}var y,z,A=this,B=Object.prototype.toString,C=Array.prototype.slice;document.body.addEventListener?(y=function(a,b,c){a.addEventListener(b,c,!1)},z=function(a,b,c){a.removeEventListener(b,c,!1)}):(y=function(a,b,c){a.attachEvent("on"+b,c)},z=function(a,b,c){a.detachEvent("on"+b,c)});try{C.call(document.body.childNodes)}catch(D){C=function(){var a,b=[];for(a=0;a<this.length;a++)b.push(this[a]);return b}}var E={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1};A.Kilroy=x}).call(this);